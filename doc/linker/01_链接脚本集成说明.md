# é©±åŠ¨æ¡†æ¶è‡ªåŠ¨åˆå§‹åŒ– - é“¾æ¥è„šæœ¬é…ç½®æŒ‡å—

æœ¬ç›®å½•åŒ…å«ä¸åŒå·¥å…·é“¾çš„é“¾æ¥è„šæœ¬é…ç½®æ–‡ä»¶ï¼Œç”¨äºæ”¯æŒé©±åŠ¨æ¡†æ¶çš„è‡ªåŠ¨åˆå§‹åŒ–åŠŸèƒ½ã€‚

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | å·¥å…·é“¾ | è¯´æ˜ |
|------|--------|------|
| `df_init_gcc.ld` | GCC/Clang | GNU é“¾æ¥å™¨è„šæœ¬ç‰‡æ®µ |
| `df_init_keil.sct` | Keil MDK | ARM åˆ†æ•£åŠ è½½æ–‡ä»¶ç‰‡æ®µ |
| `df_init_iar.icf` | IAR EWARM | IAR é“¾æ¥é…ç½®æ–‡ä»¶ç‰‡æ®µ |

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### æ–¹æ¡ˆ1ï¼šåŒ…å«ç‰‡æ®µæ–‡ä»¶ï¼ˆæ¨èï¼‰

**ä¸ä¿®æ”¹åŸæœ‰é“¾æ¥è„šæœ¬**ï¼Œé€šè¿‡åŒ…å«(INCLUDE)æ–¹å¼æ·»åŠ åˆå§‹åŒ–æ®µã€‚

#### GCC/Clang

åœ¨ä¸»é“¾æ¥è„šæœ¬ä¸­æ·»åŠ ï¼š
```ld
INCLUDE "path/to/df_init_gcc.ld"
```

æˆ–åœ¨å‘½ä»¤è¡Œä¸­ï¼š
```bash
arm-none-eabi-gcc ... -T main.ld -T df_init_gcc.ld ...
```

#### Keil MDK

Keil ä¸æ”¯æŒ INCLUDEï¼Œéœ€è¦é‡‡ç”¨**æ–¹æ¡ˆ2**æ‰‹åŠ¨æ·»åŠ ã€‚

#### IAR EWARM

åœ¨ä¸» .icf æ–‡ä»¶ä¸­æ·»åŠ ï¼š
```
include "path/to/df_init_iar.icf";
```

---

### æ–¹æ¡ˆ2ï¼šæ‰‹åŠ¨æ·»åŠ æ®µå®šä¹‰

å°†ç‰‡æ®µæ–‡ä»¶ä¸­çš„æ®µå®šä¹‰å¤åˆ¶åˆ°ä¸»é“¾æ¥è„šæœ¬çš„å¯¹åº”ä½ç½®ã€‚

#### GCC/Clang - æ·»åŠ åˆ° .rodata æ®µ

```ld
.rodata :
{
    . = ALIGN(4);
    *(.rodata)
    *(.rodata*)

    /* ===== é©±åŠ¨æ¡†æ¶è‡ªåŠ¨åˆå§‹åŒ–æ®µ ===== */
    . = ALIGN(4);
    __df_init_fn_start = .;
    KEEP(*(.df_init_fn.0))    /* æ¿çº§åˆå§‹åŒ– */
    KEEP(*(.df_init_fn.1))    /* å‰ç½®åˆå§‹åŒ– */
    KEEP(*(.df_init_fn.2))    /* è®¾å¤‡åˆå§‹åŒ– */
    KEEP(*(.df_init_fn.3))    /* ç»„ä»¶åˆå§‹åŒ– */
    KEEP(*(.df_init_fn.4))    /* ç¯å¢ƒåˆå§‹åŒ– */
    KEEP(*(.df_init_fn.5))    /* åº”ç”¨åˆå§‹åŒ– */
    __df_init_fn_end = .;
    . = ALIGN(4);

} > FLASH
```

#### Keil MDK - æ·»åŠ åˆ°åˆ†æ•£åŠ è½½æ–‡ä»¶

```sct
LR_IROM1 0x08000000 0x00100000  {
    ER_IROM1 0x08000000 0x00100000  {
        *.o (RESET, +First)
        *(InRoot$$Sections)
        .ANY (+RO)

        ; ===== é©±åŠ¨æ¡†æ¶è‡ªåŠ¨åˆå§‹åŒ–æ®µ =====
        .ANY (.df_init_fn.0)
        .ANY (.df_init_fn.1)
        .ANY (.df_init_fn.2)
        .ANY (.df_init_fn.3)
        .ANY (.df_init_fn.4)
        .ANY (.df_init_fn.5)
    }

    ; æˆ–è€…ä½¿ç”¨ç‹¬ç«‹æ‰§è¡ŒåŸŸï¼ˆæ¨èï¼‰
    DF_InitFnSection +0 {
        .ANY (.df_init_fn.0)
        .ANY (.df_init_fn.1)
        .ANY (.df_init_fn.2)
        .ANY (.df_init_fn.3)
        .ANY (.df_init_fn.4)
        .ANY (.df_init_fn.5)
    }

    RW_IRAM1 0x20000000 0x00020000  {
        .ANY (+RW +ZI)
    }
}
```

#### IAR EWARM - æ·»åŠ åˆ° .icf æ–‡ä»¶

```icf
/* å®šä¹‰åˆå§‹åŒ–æ®µå— */
define block DF_InitFnSection with fixed order, alignment = 4 {
    section .df_init_fn.0,
    section .df_init_fn.1,
    section .df_init_fn.2,
    section .df_init_fn.3,
    section .df_init_fn.4,
    section .df_init_fn.5
};

/* æ”¾ç½®åœ¨ Flash åŒºåŸŸ */
place in ROM_region { block DF_InitFnSection };
```

---

## ğŸ”§ è‡ªåŠ¨åˆå§‹åŒ–æœºåˆ¶

### GCC/Clang

**æœºåˆ¶**ï¼š`__attribute__((constructor))` + é“¾æ¥å™¨æ®µ

**ä¼˜ç‚¹**ï¼šå®Œå…¨è‡ªåŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒç”¨

**é…ç½®**ï¼š
```c
// åœ¨æŸä¸ªæºæ–‡ä»¶ä¸­å¯ç”¨
DF_INIT_AUTO_ENABLE();

// æ³¨å†Œåˆå§‹åŒ–å‡½æ•°
static int my_init(void) { return 0; }
DF_BOARD_INIT(my_init);

// main å‡½æ•°æ— éœ€ä»»ä½•ä¿®æ”¹
int main(void) {
    // æ¡†æ¶å·²è‡ªåŠ¨åˆå§‹åŒ–
}
```

### Keil MDK

**æœºåˆ¶**ï¼š`$Sub$$main` + é“¾æ¥å™¨æ®µ

**ä¼˜ç‚¹**ï¼šè‡ªåŠ¨è°ƒç”¨ï¼Œæ— éœ€ä¿®æ”¹ main

**é…ç½®**ï¼š
```c
// df_init.h å·²å®šä¹‰ $Sub$$mainï¼Œä¼šåœ¨ main å‰è‡ªåŠ¨è°ƒç”¨

// æ³¨å†Œåˆå§‹åŒ–å‡½æ•°
static int my_init(void) { return 0; }
DF_BOARD_INIT(my_init);

// main å‡½æ•°æ— éœ€ä»»ä½•ä¿®æ”¹
int main(void) {
    // æ¡†æ¶å·²è‡ªåŠ¨åˆå§‹åŒ–
}
```

### IAR EWARM

**æœºåˆ¶**ï¼šä»…é“¾æ¥å™¨æ®µï¼ˆéœ€æ‰‹åŠ¨è°ƒç”¨ï¼‰

**é™åˆ¶**ï¼šä¸æ”¯æŒè‡ªåŠ¨è°ƒç”¨

**é…ç½®**ï¼š
```c
// æ³¨å†Œåˆå§‹åŒ–å‡½æ•°
static int my_init(void) { return 0; }
DF_BOARD_INIT(my_init);

// main å‡½æ•°éœ€è¦æ‰‹åŠ¨è°ƒç”¨
int main(void) {
    DF_Framework_Init();  // æ‰‹åŠ¨åˆå§‹åŒ–
    // ... ç”¨æˆ·ä»£ç  ...
}
```

---

## ğŸ“Š æ®µåä¸ä¼˜å…ˆçº§

| æ®µå | å®å®šä¹‰ | è¯´æ˜ | å…¸å‹ç”¨é€” |
|------|--------|------|----------|
| `.df_init_fn.0` | `DF_BOARD_INIT()` | æ¿çº§åˆå§‹åŒ– | æ—¥å¿—ç³»ç»Ÿã€æ—¶é’Ÿé…ç½® |
| `.df_init_fn.1` | `DF_PREV_INIT()` | å‰ç½®åˆå§‹åŒ– | GPIOã€ä¸­æ–­é…ç½® |
| `.df_init_fn.2` | `DF_DEVICE_INIT()` | è®¾å¤‡åˆå§‹åŒ– | UARTã€I2Cã€SPI |
| `.df_init_fn.3` | `DF_COMPONENT_INIT()` | ç»„ä»¶åˆå§‹åŒ– | æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œæ ˆ |
| `.df_init_fn.4` | `DF_ENV_INIT()` | ç¯å¢ƒåˆå§‹åŒ– | é…ç½®åŠ è½½ã€ç¯å¢ƒå˜é‡ |
| `.df_init_fn.5` | `DF_APP_INIT()` | åº”ç”¨åˆå§‹åŒ– | åº”ç”¨ä»»åŠ¡ã€ä¸šåŠ¡é€»è¾‘ |

**æ‰§è¡Œé¡ºåº**ï¼š0 â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5ï¼ˆæ•°å­—è¶Šå°è¶Šæ—©æ‰§è¡Œï¼‰

---

## âœ… éªŒè¯é…ç½®

### 1. ç¼–è¯‘åæ£€æŸ¥ Map æ–‡ä»¶

**GCC**ï¼šæŸ¥æ‰¾ `__df_init_fn_start` å’Œ `__df_init_fn_end`
```
__df_init_fn_start = 0x08001234
.df_init_fn.0      0x08001234   0x4  obj1.o
.df_init_fn.1      0x08001238   0x4  obj2.o
.df_init_fn.2      0x0800123c   0x4  obj3.o
__df_init_fn_end   = 0x08001240
```

**Keil**ï¼šæŸ¥æ‰¾ `DF_InitFnSection` æˆ–å„ä¸ª `.df_init_fn.*` æ®µ
```
DF_InitFnSection    0x08001234   Section    24  (*.o)(.df_init_fn.*)
```

**IAR**ï¼šåœ¨ Memory Map ä¸­æŸ¥æ‰¾ `DF_InitFnSection`

### 2. è¿è¡Œæ—¶éªŒè¯

æ·»åŠ è°ƒè¯•è¾“å‡ºï¼š
```c
int DF_Framework_Init(void) {
    printf("Init functions: %p to %p\n",
           &__df_init_fn_start, &__df_init_fn_end);
    // ... æ‰§è¡Œåˆå§‹åŒ– ...
}
```

### 3. æµ‹è¯•ç¤ºä¾‹

```c
// æµ‹è¯•ä¸åŒä¼˜å…ˆçº§
static int test_board(void) {
    printf("Board init\n");
    return 0;
}
DF_BOARD_INIT(test_board);

static int test_device(void) {
    printf("Device init\n");
    return 0;
}
DF_DEVICE_INIT(test_device);

static int test_app(void) {
    printf("App init\n");
    return 0;
}
DF_APP_INIT(test_app);
```

é¢„æœŸè¾“å‡ºï¼š
```
Board init
Device init
App init
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: GCC æç¤º "undefined reference to '__df_init_fn_start'"

**åŸå› **ï¼šé“¾æ¥å™¨è„šæœ¬ä¸­æœªæ·»åŠ åˆå§‹åŒ–æ®µ

**è§£å†³**ï¼šåœ¨ .ld æ–‡ä»¶çš„ `.rodata` æ®µä¸­æ·»åŠ æ®µå®šä¹‰

### Q2: Keil æç¤º "Error: L6218E: Undefined symbol DF_InitFnSection$$Base"

**åŸå› **ï¼šåˆ†æ•£åŠ è½½æ–‡ä»¶ä¸­æœªå®šä¹‰ `DF_InitFnSection` æ‰§è¡ŒåŸŸ

**è§£å†³**ï¼šä½¿ç”¨ç‹¬ç«‹æ‰§è¡ŒåŸŸæ–¹å¼å®šä¹‰æ®µï¼ˆå‚è€ƒ `df_init_keil.sct`ï¼‰

### Q3: åˆå§‹åŒ–å‡½æ•°æ²¡æœ‰æ‰§è¡Œ

**å¯èƒ½åŸå› **ï¼š
1. é“¾æ¥å™¨ä¼˜åŒ–æ‰äº†æœªå¼•ç”¨çš„å‡½æ•° â†’ ä½¿ç”¨ `KEEP()` æˆ– `.ANY`
2. æ®µæ²¡æœ‰æ­£ç¡®æ”¾ç½® â†’ æ£€æŸ¥ Map æ–‡ä»¶
3. åˆå§‹åŒ–å‡½æ•°è¿”å›äº†é 0 å€¼ â†’ æ£€æŸ¥è¿”å›å€¼
4. IAR å¿˜è®°æ‰‹åŠ¨è°ƒç”¨ `DF_Framework_Init()` â†’ åœ¨ main å¼€å¤´è°ƒç”¨

### Q4: åˆå§‹åŒ–é¡ºåºä¸å¯¹

**åŸå› **ï¼šæ®µåä¸ç¬¦åˆå­—å…¸åº

**è§£å†³**ï¼šä¸¥æ ¼ä½¿ç”¨ `.df_init_fn.0` ~ `.df_init_fn.5` æ ¼å¼

---

## ğŸ“– å‚è€ƒèµ„æ–™

- [RT-Thread è‡ªåŠ¨åˆå§‹åŒ–æœºåˆ¶](https://www.rt-thread.org/document/site/#/rt-thread-version/rt-thread-standard/programming-manual/basic/basic)
- [GNU LD é“¾æ¥å™¨è„šæœ¬](https://sourceware.org/binutils/docs/ld/Scripts.html)
- [Keil åˆ†æ•£åŠ è½½æ–‡ä»¶](https://www.keil.com/support/man/docs/armlink/armlink_pge1362065917715.htm)
- [IAR é“¾æ¥é…ç½®æ–‡ä»¶](https://www.iar.com/support/tech-notes/linker/linker-configuration-file-format/)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

- **2026-01-02**ï¼šåˆ›å»ºé“¾æ¥è„šæœ¬é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒ GCC/Keil/IAR
- **2026-01-02**ï¼šé‡‡ç”¨ RT-Thread é£æ ¼å®ç°ï¼Œç®€åŒ–é…ç½®

---

## ğŸ’¡ å®Œæ•´ä½¿ç”¨ç¤ºä¾‹ä»£ç 

> **æ³¨æ„**ï¼šä»¥ä¸‹ä»£ç ä»…ä¾›å‚è€ƒå­¦ä¹ ï¼Œè¯·å‹¿ç›´æ¥ç¼–è¯‘åˆ°é¡¹ç›®ä¸­ã€‚

### ç¤ºä¾‹1ï¼šåŸºæœ¬ä½¿ç”¨ï¼ˆæ–°APIï¼‰

```c
#include "df_init.h"
#include <stdio.h>

// æ¿çº§åˆå§‹åŒ–ï¼ˆæœ€æ—©æ‰§è¡Œï¼‰
static int board_clock_init(void)
{
    printf("[0] Board: Clock initialized\n");
    return 0;
}
DF_BOARD_INIT(board_clock_init);

// å‰ç½®åˆå§‹åŒ–
static int platform_gpio_init(void)
{
    printf("[1] Platform: GPIO initialized\n");
    return 0;
}
DF_PREV_INIT(platform_gpio_init);

// è®¾å¤‡åˆå§‹åŒ–
static int device_uart_init(void)
{
    printf("[2] Device: UART initialized\n");
    return 0;
}
DF_DEVICE_INIT(device_uart_init);

static int device_i2c_init(void)
{
    printf("[2] Device: I2C initialized\n");
    return 0;
}
DF_DEVICE_INIT(device_i2c_init);

// ç»„ä»¶åˆå§‹åŒ–
static int component_fs_init(void)
{
    printf("[3] Component: Filesystem initialized\n");
    return 0;
}
DF_COMPONENT_INIT(component_fs_init);

// ç¯å¢ƒåˆå§‹åŒ–
static int env_config_load(void)
{
    printf("[4] Environment: Config loaded\n");
    return 0;
}
DF_ENV_INIT(env_config_load);

// åº”ç”¨åˆå§‹åŒ–ï¼ˆæœ€æ™šæ‰§è¡Œï¼‰
static int app_task_create(void)
{
    printf("[5] Application: Tasks created\n");
    return 0;
}
DF_APP_INIT(app_task_create);
```

### ç¤ºä¾‹2ï¼šä½¿ç”¨é€šç”¨å®

```c
// ä½¿ç”¨é€šç”¨çš„ DF_INIT_EXPORT å®
static int custom_init_early(void)
{
    printf("[0] Custom early init\n");
    return 0;
}
DF_INIT_EXPORT(custom_init_early, DF_INIT_EXPORT_BOARD);

static int custom_init_late(void)
{
    printf("[5] Custom late init\n");
    return 0;
}
DF_INIT_EXPORT(custom_init_late, DF_INIT_EXPORT_APP);
```

### ç¤ºä¾‹3ï¼šå…¼å®¹æ—§API

```c
// æ—§çš„å®ä»ç„¶å¯ä»¥ä½¿ç”¨ï¼ˆæ˜ å°„åˆ°æ–°çš„æ®µï¼‰
static int old_style_core(void)
{
    printf("[0] Old style: CORE init\n");
    return 0;
}
DF_INIT_CORE(old_style_core);  // æ˜ å°„åˆ° DF_BOARD_INIT

static int old_style_platform(void)
{
    printf("[1] Old style: PLATFORM init\n");
    return 0;
}
DF_INIT_PLATFORM(old_style_platform);  // æ˜ å°„åˆ° DF_PREV_INIT
```

### ç¤ºä¾‹4ï¼šæ¡ä»¶åˆå§‹åŒ–

```c
#ifdef USE_OPTIONAL_FEATURE
static int optional_feature_init(void)
{
    printf("[3] Optional: Feature enabled\n");
    return 0;
}
DF_COMPONENT_INIT(optional_feature_init);
#endif
```

### ç¤ºä¾‹5ï¼šé”™è¯¯å¤„ç†

```c
static int device_with_error(void)
{
    printf("[2] Device: Init with error\n");
    return -1;  // è¿”å›é”™è¯¯
}
DF_DEVICE_INIT(device_with_error);
```

### ç¤ºä¾‹6ï¼šä¸åŒç¼–è¯‘å™¨çš„ä½¿ç”¨æ–¹å¼

```c
#if defined(__GNUC__) && !defined(__ARMCC_VERSION)
    // GCC/Clang: è‡ªåŠ¨åˆå§‹åŒ–ï¼ˆconstructorï¼‰
    DF_INIT_AUTO_ENABLE();  // åœ¨ main ä¹‹å‰è‡ªåŠ¨è°ƒç”¨

    int main(void)
    {
        printf("\n========== GCC Main Function ==========\n");
        printf("Framework already initialized!\n");

        // ç”¨æˆ·ä»£ç 
        printf("User code running...\n");

        return 0;
    }

#elif defined(__CC_ARM) || defined(__ARMCC_VERSION)
    // Keil MDK: ä½¿ç”¨ $Sub$$mainï¼ˆå·²åœ¨ df_init.h ä¸­å®šä¹‰ï¼‰
    // æ— éœ€ä»»ä½•é¢å¤–ä»£ç ï¼Œ$Sub$$main ä¼šè‡ªåŠ¨è°ƒç”¨ DF_Framework_Init()

    int main(void)
    {
        printf("\n========== Keil Main Function ==========\n");
        printf("Framework already initialized by $Sub$$main!\n");

        // ç”¨æˆ·ä»£ç 
        printf("User code running...\n");

        return 0;
    }

#elif defined(__ICCARM__)
    // IAR: éœ€è¦æ‰‹åŠ¨è°ƒç”¨
    int main(void)
    {
        printf("\n========== IAR Main Function ==========\n");

        // IAR éœ€è¦æ‰‹åŠ¨åˆå§‹åŒ–
        DF_Framework_Init();

        // ç”¨æˆ·ä»£ç 
        printf("User code running...\n");

        return 0;
    }

#else
    // å…¶ä»–ç¼–è¯‘å™¨ï¼šæ‰‹åŠ¨è°ƒç”¨
    int main(void)
    {
        printf("\n========== Main Function ==========\n");

        // æ‰‹åŠ¨åˆå§‹åŒ–
        DF_Framework_Init();

        // ç”¨æˆ·ä»£ç 
        printf("User code running...\n");

        return 0;
    }
#endif
```

### é¢„æœŸè¾“å‡º

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Driver Framework Initialization      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[0] Board: Clock initialized
[0] Custom early init
[0] Old style: CORE init

[1] Platform: GPIO initialized
[1] Old style: PLATFORM init

[2] Device: UART initialized
[2] Device: I2C initialized
[2] Device: Init with error
[DF_INIT] Init function failed (ret=-1)

[3] Component: Filesystem initialized
[3] Optional: Feature enabled (if enabled)

[4] Environment: Config loaded

[5] Application: Tasks created
[5] Custom late init

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
[DF_INIT] 10 components initialized, 1 failed
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

========== Main Function ==========
Framework already initialized!
User code running...
```

### ä¼˜åŠ¿æ€»ç»“

ç›¸æ¯”æ—§ç‰ˆæœ¬çš„æ”¹è¿›ï¼š

1. **ä¸éœ€è¦å›ºå®šæ•°é‡çš„æ®µ**
   - æ—§ç‰ˆï¼šå›ºå®š 4 ä¸ªæ®µï¼ˆ.df_init.0 ~ .df_init.3ï¼‰
   - æ–°ç‰ˆï¼šçµæ´»çš„å­—ç¬¦ä¸²çº§åˆ«ï¼Œå¯éšæ„æ‰©å±•

2. **ä¸éœ€è¦å¤–éƒ¨å£°æ˜æ¯ä¸ªæ®µçš„è¾¹ç•Œ**
   - æ—§ç‰ˆï¼šéœ€è¦ __start_df_init_0, __stop_df_init_0 ç­‰ 8 ä¸ªç¬¦å·
   - æ–°ç‰ˆï¼šåªéœ€è¦ __df_init_fn_start å’Œ __df_init_fn_end ä¸¤ä¸ªç¬¦å·

3. **æ”¯æŒ Keil çš„ $Sub$$main è‡ªåŠ¨åˆå§‹åŒ–**
   - Keil ç”¨æˆ·æ— éœ€ä»»ä½•ä¿®æ”¹ï¼Œå®Œå…¨è‡ªåŠ¨

4. **æ›´æ¸…æ™°çš„ä¼˜å…ˆçº§åç§°**
   - æ—§ç‰ˆï¼šCORE/PLATFORM/DEVICE/APPLICATION
   - æ–°ç‰ˆï¼šBOARD/PREV/DEVICE/COMPONENT/ENV/APPï¼ˆ6çº§ï¼‰

5. **é“¾æ¥è„šæœ¬æ›´ç®€æ´**
   - æ—§ç‰ˆï¼šéœ€è¦æ˜ç¡®å®šä¹‰æ¯ä¸ªæ®µçš„èµ·æ­¢ç¬¦å·
   - æ–°ç‰ˆï¼šä½¿ç”¨ç»Ÿä¸€çš„æ®µåŒºåŸŸï¼Œé“¾æ¥å™¨è‡ªåŠ¨æ’åº

6. **å€Ÿé‰´ RT-Thread æˆç†Ÿæ–¹æ¡ˆ**
   - ç»è¿‡å¤§é‡é¡¹ç›®éªŒè¯çš„å¯é å®ç°

### ä½¿ç”¨æŠ€å·§

1. **é€‰æ‹©åˆé€‚çš„ä¼˜å…ˆçº§ï¼š**
   - BOARDï¼šæœ€åº•å±‚ç¡¬ä»¶ï¼ˆæ—¶é’Ÿã€PLLï¼‰
   - PREVï¼šGPIOã€ä¸­æ–­æ§åˆ¶å™¨
   - DEVICEï¼šå¤–è®¾é©±åŠ¨ï¼ˆUARTã€I2Cã€SPIï¼‰
   - COMPONENTï¼šè½¯ä»¶ç»„ä»¶ï¼ˆæ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œæ ˆï¼‰
   - ENVï¼šç¯å¢ƒé…ç½®ï¼ˆåŠ è½½é…ç½®æ–‡ä»¶ï¼‰
   - APPï¼šåº”ç”¨ä»»åŠ¡ï¼ˆåˆ›å»ºçº¿ç¨‹ã€å¯åŠ¨æœåŠ¡ï¼‰

2. **åˆå§‹åŒ–å‡½æ•°æœ€ä½³å®è·µï¼š**
   - è¿”å› 0 è¡¨ç¤ºæˆåŠŸï¼Œé 0 è¡¨ç¤ºå¤±è´¥
   - å‡½æ•°åº”è¯¥æ˜¯å¹‚ç­‰çš„ï¼ˆå¯ä»¥é‡å¤è°ƒç”¨ï¼‰
   - é¿å…åœ¨åˆå§‹åŒ–ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œ
   - å¦‚æœä¾èµ–å…¶ä»–æ¨¡å—ï¼Œé€‰æ‹©åˆé€‚çš„ä¼˜å…ˆçº§

3. **è°ƒè¯•æŠ€å·§ï¼š**
   - åœ¨åˆå§‹åŒ–å‡½æ•°ä¸­æ·»åŠ æ—¥å¿—è¾“å‡º
   - æ£€æŸ¥ Map æ–‡ä»¶ç¡®è®¤æ®µçš„ä½ç½®å’Œå¤§å°
   - ä½¿ç”¨è°ƒè¯•å™¨æ–­ç‚¹æŸ¥çœ‹æ‰§è¡Œé¡ºåº

4. **å¤šæ–‡ä»¶é¡¹ç›®ï¼š**
   - æ¯ä¸ªæ¨¡å—åœ¨è‡ªå·±çš„ .c æ–‡ä»¶ä¸­æ³¨å†Œåˆå§‹åŒ–å‡½æ•°
   - æ— éœ€åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜
   - æ— éœ€æ‰‹åŠ¨ç®¡ç†åˆå§‹åŒ–é¡ºåº

---

